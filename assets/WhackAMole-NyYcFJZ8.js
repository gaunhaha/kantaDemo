import{d as I,P as O,r as o,e as R,c as n,B as V,a as e,C as E,t,u as i,A as C,y as F,F as w,q as S,o as u}from"./index-DEV8ttpb.js";import{h as f}from"./moment-C5S46NFB.js";const G={class:"text-black bg-gray-100 p-4 mb-10 rounded-md shadow-md relative"},L={class:"font-bold text-lg"},N={class:"mb-3"},P={class:"text-primary"},j={class:"text-center mb-3"},q={class:"text-3xl font-bold"},z={class:"w-fit mx-auto"},$={class:"flex justify-between mb-5"},H=["disabled"],J={key:0},K={key:1},Q={key:2},U={class:"text-3xl font-bold"},X={key:0,class:"text-nowrap"},Y={class:"text-nowrap"},Z={class:"flex mb-3 gap-3"},ee=["disabled"],le=I({__name:"WhackAMole",setup(te){const{t:a}=O(),r=o(!1),v=o(3),c=o(f().startOf("day").add(20,"s")),s=o(!1),h=o(0),d=o(0),_=o(0),l=o(null),p=o(new Audio("./gotPointSoundEffect.mp3")),x=o(!0);R(()=>{g(),p.value.load()});function T(){return c.value.format("ss : SS")}function W(){v.value=3,c.value=f().startOf("day").add(20,"s"),r.value=!0,y(),d.value=0}function y(){v.value>1?setTimeout(()=>{v.value--,y()},1e3):(r.value=!1,s.value=!0,l.value=b(),M())}function M(){c.value>f().startOf("day")?setTimeout(()=>{c.value=f(c.value).add(-10,"milliseconds"),M()},10):(s.value=!1,l.value&&clearTimeout(l.value),h.value<d.value&&(h.value=d.value))}function g(){_.value=Math.floor(Math.random()*16)+1}function B(){p.value.currentTime=0,p.value.play(),d.value++,g(),D()}function b(){return setTimeout(()=>{g(),l.value=b()},Math.random()*1500+500)}function D(){l.value&&clearTimeout(l.value),l.value=b()}return(oe,m)=>(u(),n(w,null,[V(e("div",G,[e("button",{class:"absolute top-2 right-2 text-gray-500 hover:text-gray-700",onClick:m[0]||(m[0]=k=>x.value=!1)},m[1]||(m[1]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])),e("h2",L,t(i(a)("WhackAMole.title")),1),e("p",N,t(i(a)("WhackAMole.instruction")),1),e("p",null,t(i(a)("WhackAMole.instructionDetail")),1)],512),[[E,x.value]]),e("div",P,[e("div",j,[e("h1",q,t(T()),1)]),e("div",z,[e("div",$,[e("button",{class:C(["btn-light h-12 w-20",r.value||s.value?"bg-primary-light-active":"bg-primary hover:bg-primary-active"]),onClick:W,disabled:r.value||s.value},[r.value?(u(),n("span",J,t(v.value),1)):s.value?(u(),n("span",K,t(i(a)("WhackAMole.go")),1)):(u(),n("span",Q,t(i(a)("WhackAMole.start")),1))],10,H),e("div",U,[h.value?(u(),n("div",X,t(i(a)("WhackAMole.highest"))+" "+t(h.value),1)):F("",!0),e("div",Y,t(i(a)("WhackAMole.score"))+" "+t(d.value),1)])]),(u(),n(w,null,S(4,k=>e("div",Z,[(u(),n(w,null,S(4,A=>e("button",{class:C(["lg:p-16 md:p-10 p-7 rounded-md",_.value==(k-1)*4+A&&s.value?"bg-red-400 cursor-pointer":"bg-gray-400"]),disabled:_.value!=(k-1)*4+A||!s.value,onClick:B},null,10,ee)),64))])),64))])])],64))}});export{le as default};
