import{d as j,u as E,r as a,f as I,c as n,D as O,E as R,a as e,t,b as i,C,B as V,F as w,s as S,o as u}from"./index-_DLMg3AS.js";import{h as f}from"./moment-C5S46NFB.js";const F={class:"text-black bg-gray-100 p-4 mb-10 rounded-md shadow-md relative"},G={class:"font-bold text-lg"},L={class:"mb-3"},N={class:"text-primary"},z={class:"flex justify-center mb-3"},P={class:"text-3xl font-bold"},$={class:"flex justify-between items-center mb-5 gap-3 flex-wrap"},q=["disabled"],H={key:0},J={key:1},K={key:2},Q={class:"text-3xl font-bold text-end me-4"},U={key:0,class:"text-nowrap"},X={class:"text-nowrap"},Y={class:"flex justify-around mb-10 gap-3"},Z=["disabled"],se=j({__name:"WhackAMole",setup(ee){const{t:o}=E(),r=a(!1),v=a(3),c=a(f().startOf("day").add(20,"s")),s=a(!1),m=a(0),d=a(0),_=a(0),l=a(null),p=a(new Audio("./gotPointSoundEffect.mp3")),x=a(!0);I(()=>{g(),p.value.load()});function T(){return c.value.format("ss : SS")}function W(){v.value=3,c.value=f().startOf("day").add(20,"s"),r.value=!0,y(),d.value=0}function y(){v.value>1?setTimeout(()=>{v.value--,y()},1e3):(r.value=!1,s.value=!0,l.value=b(),M())}function M(){c.value>f().startOf("day")?setTimeout(()=>{c.value=f(c.value).add(-10,"milliseconds"),M()},10):(s.value=!1,l.value&&clearTimeout(l.value),m.value<d.value&&(m.value=d.value))}function g(){_.value=Math.floor(Math.random()*16)+1}function B(){p.value.currentTime=0,p.value.play(),d.value++,g(),D()}function b(){return setTimeout(()=>{g(),l.value=b()},Math.random()*1500+500)}function D(){l.value&&clearTimeout(l.value),l.value=b()}return(te,h)=>(u(),n(w,null,[O(e("div",F,[e("button",{class:"absolute top-2 right-2 text-gray-500 hover:text-gray-700",onClick:h[0]||(h[0]=k=>x.value=!1)},h[1]||(h[1]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])),e("h2",G,t(i(o)("WhackAMole.title")),1),e("p",L,t(i(o)("WhackAMole.instruction")),1),e("p",null,t(i(o)("WhackAMole.instructionDetail")),1)],512),[[R,x.value]]),e("div",N,[e("div",z,[e("h1",P,t(T()),1)]),e("div",$,[e("button",{class:C(["btn-light h-12 w-20 ms-4",r.value||s.value?"bg-primary-light-active":"bg-primary hover:bg-primary-active"]),onClick:W,disabled:r.value||s.value},[r.value?(u(),n("span",H,t(v.value),1)):s.value?(u(),n("span",J,t(i(o)("WhackAMole.go")),1)):(u(),n("span",K,t(i(o)("WhackAMole.start")),1))],10,q),e("div",Q,[m.value?(u(),n("div",U,t(i(o)("WhackAMole.highest"))+" "+t(m.value),1)):V("",!0),e("div",X,t(i(o)("WhackAMole.score"))+" "+t(d.value),1)])]),(u(),n(w,null,S(4,k=>e("div",Y,[(u(),n(w,null,S(4,A=>e("button",{class:C(["lg:p-16 md:p-10 p-7 rounded-md",_.value==(k-1)*4+A&&s.value?"bg-red-400 cursor-pointer":"bg-gray-400"]),disabled:_.value!=(k-1)*4+A||!s.value,onClick:B},null,10,Z)),64))])),64))])],64))}});export{se as default};
